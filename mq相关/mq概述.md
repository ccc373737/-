mq本质上是一个队列，在现在互联网架构中通常有三个作用

- 业务解耦：如B，C，D依赖于A，那么每次B，C，D发生改变或者要加入新的依赖，那么每次都要去修改A，形成反向依赖这在业务层上不可接受的。
使用mq之后，上游系统和下游系统解耦，上游只管发送消息，而不关注下游系统的具体业务。

- 异步：随着业务的拓展，业务层的链路会越来越长，一般而言，每个请求在200ms内完成可以使客户端无感知，如果过长的处理时间就可以用mq处理。
业务层直接发送消息后返回，会有其他线程监听mq消息去做业务处理，这样就对过长的业务逻辑异步化

- 削峰：一般的mysql每秒适合处理2k个请求，而某些活动会超出这个请求数量从而压垮数据库，这种情况可以将请求暂时放入mq中，由业务系统根据自己的能去拉取数据，
这样达到降低瞬间峰值的情况。
